<UserControl
    x:Class="UWPTools.Controls.ExplorerControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:UWPTools.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:models="using:UWPTools.Controls.Models"
    mc:Ignorable="d"
    d:DesignHeight="300"
    d:DesignWidth="400">

    <UserControl.Resources>
        <DataTemplate x:ConnectionId='2' x:Name="GridViewModeItemTemplate"                                    >
            <Grid x:ConnectionId='11' Height="180" MaxWidth="150">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                </Grid.RowDefinitions>
                <Image x:ConnectionId='12' Margin="4" Width="128" Height="128"                                   />

                <TextBlock x:ConnectionId='13' Grid.Row="1" Margin="3" TextAlignment="Center" VerticalAlignment="Center" HorizontalAlignment="Stretch" TextWrapping="Wrap" MaxLines="2" TextTrimming="CharacterEllipsis"                                  />
            </Grid>
        </DataTemplate>
        <Style x:ConnectionId='3' x:Name="GridViewModeListViewItemStyle" TargetType="ListViewItem">
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
        </Style>
        <ItemsPanelTemplate x:ConnectionId='4' x:Name="GridViewModeItemsPanelTemplate">
            <ItemsWrapGrid Orientation="Horizontal" />
        </ItemsPanelTemplate>
        <DataTemplate x:ConnectionId='5' x:Name="ListViewModeItemTemplate"                                    >
            <Grid x:ConnectionId='8'>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Image x:ConnectionId='9' Margin="4" Width="48" Height="48"                                   />
                <TextBlock x:ConnectionId='10' Grid.Column="1" Margin="3" VerticalAlignment="Center" HorizontalAlignment="Left" TextWrapping="Wrap" MaxLines="3" TextTrimming="Clip"                                  />
            </Grid>
        </DataTemplate>
        <Style x:ConnectionId='6' x:Name="ListViewModeListViewItemStyle" TargetType="ListViewItem">
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        </Style>
        <ItemsPanelTemplate x:ConnectionId='7' x:Name="ListViewModeItemsPanelTemplate">
            <ItemsStackPanel Orientation="Vertical"/>
        </ItemsPanelTemplate>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <ProgressBar x:ConnectionId='26' Grid.Row="0" Name="LoadingProgressBar" Visibility="Collapsed" Canvas.ZIndex="2" IsIndeterminate="True" VerticalAlignment="Top"/>
            <Grid Grid.Row="1" Background="{Binding ElementName=MainCommandBar,Path=Background}">
                <CommandBar x:ConnectionId='28' DefaultLabelPosition="Right" HorizontalAlignment="Left" Name="MainCommandBar">
                    <CommandBar.PrimaryCommands>
                        <AppBarButton x:ConnectionId='29' Name="BackButton" Icon="Back" Label="后退"                         />
                        <AppBarButton x:ConnectionId='30' Name="RefreshButton" Icon="Refresh" Label="刷新"                            />
                        <AppBarButton x:ConnectionId='31' Name="HomeButton" Icon="Home" Label="回到根目录"                         />
                        <AppBarButton x:ConnectionId='32' Name="CreateFolderButton" Icon="NewFolder" Label="新建文件夹"                                 >
                            <!--<AppBarButton.Flyout>
                                <Flyout x:Name="CreateFolderFlyout" Opened="Flyout_Opened">
                                    <Grid Name="CreateFolderFlyoutGrid" MinHeight="100" MinWidth="300">
                                        
                                    </Grid>
                                </Flyout>
                            </AppBarButton.Flyout>-->
                        </AppBarButton>
                        <AppBarButton x:ConnectionId='33' Name="ViewModeButton" Label="网格视图"                             >
                            <AppBarButton.Icon>
                                <FontIcon x:ConnectionId='34' Name="ViewModeButtonIcon" Glyph="&#xF0E2;" />
                            </AppBarButton.Icon>
                        </AppBarButton>
                    </CommandBar.PrimaryCommands>
                </CommandBar>
            </Grid>
            <ScrollViewer Background="{ThemeResource SystemControlBackgroundBaseLowBrush}" HorizontalScrollMode="Enabled" VerticalScrollMode="Disabled" HorizontalScrollBarVisibility="Auto" Height="32" Padding="8,0,8,0">
                <TextBlock x:ConnectionId='27' VerticalAlignment="Center" Name="FolderPathTextBlock"/>
            </ScrollViewer>
        </Grid>

        <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" Grid.Row="1">
            <TextBlock x:ConnectionId='14' Text="此文件夹为空。" Visibility="Collapsed" Name="EmptyFolderTip" HorizontalAlignment="Center" Margin="8"/>
            <ListView x:ConnectionId='15' Name="lvFiles" SelectionMode="Extended"                                       IsMultiSelectCheckBoxEnabled="True"                               IsItemClickEnabled="True"                                  >
                <ListView.ContextFlyout>
                    <MenuFlyout x:ConnectionId='16' x:Name="ListViewFlyout"                               >
                        <MenuFlyoutItem x:ConnectionId='17' Text="打开" Name="ListViewFlyout_Open"                                  >
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE8AD;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutSeparator Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}"/>
                        <MenuFlyoutItem x:ConnectionId='18' Text="剪切" Name="ListViewFlyout_Cut"                                  Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE8C6;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem x:ConnectionId='19' Text="复制" Name="ListViewFlyout_Copy"                                   Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE8C8;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem x:ConnectionId='20' Text="粘贴" Name="ListViewFlyout_Paste"                                   >
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE77F;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutSeparator Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}"/>
                        <MenuFlyoutItem x:ConnectionId='21' Name="ListViewFlyout_OpenFilePath"                                           Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xED25;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem x:ConnectionId='22' Text="复制完整路径" Name="ListViewFlyout_CopyFilePath"                                           Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE62F;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutSeparator Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}"/>
                        <MenuFlyoutItem x:ConnectionId='23' Text="彻底删除" Name="ListViewFlyout_Delete"                                     Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE74D;"/>
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutItem x:ConnectionId='24' Text="重命名" Name="ListViewFlyout_Rename"                                     Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE8AC;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                        <MenuFlyoutSeparator Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}"/>
                        <MenuFlyoutItem x:ConnectionId='25' Text="属性" Name="ListViewFlyout_Properties"                                         Visibility="{Binding ElementName=ListViewFlyout_Open,Path=Visibility}">
                            <MenuFlyoutItem.Icon>
                                <FontIcon Glyph="&#xE946;" />
                            </MenuFlyoutItem.Icon>
                        </MenuFlyoutItem>
                    </MenuFlyout>
                </ListView.ContextFlyout>
                <!--<ListView.ItemContainerStyle>
                
            </ListView.ItemContainerStyle>-->
                <!--<ItemsControl.ItemTemplate>
                
            </ItemsControl.ItemTemplate>-->
                <!--<ItemsControl.ItemsPanel>
                
            </ItemsControl.ItemsPanel>-->
            </ListView>
        </Grid>
    </Grid>
</UserControl>

